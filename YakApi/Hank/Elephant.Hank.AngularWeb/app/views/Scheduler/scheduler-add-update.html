<section class="content">
  <div class="container-fluid">
    <div class="row pd10">
      <div class="col-sm-1"></div>
      <!-- left column -->
      <div class="col-md-10">
        <!-- general form elements -->
        <div class="card card-primary card-outline">
          <div class="card-header">
            <h3 ng-if="!StateParamsSchedulerId">Create New Scheduler</h3>
            <h3 ng-if="StateParamsSchedulerId">Update Scheduler</h3>
          </div>
          <!-- /.card-header -->
          <form class="form-horizontal" name="SchedulerForm" ng-submit="SchedulerForm.$valid && addUpdateScheduler()">
            <div class="card-body">
              <div class="form-group">
                <label>Name</label>

                <input type="text" class="form-control" ng-model="Scheduler.Name" name="State" placeholder="Name" required>
                <span ng-show="SchedulerForm.Name.$touched || TestForm.$submitted">
                    <small class="help-block" ng-show="TestForm.TestName.$error.required" style="color:red">Please enter name.</small>
                  </span>
              </div>

              <div class="form-group">
                <label>Description</label>

                <textarea type="text" class="form-control" ng-model="Scheduler.Description" name="Description"
                          placeholder="Description" required></textarea>
              </div>

              <div class="form-group">
                <label>Url</label>

                <select class="form-control" ng-model="Scheduler.UrlId"
                        ng-options="websiteurl.Id as websiteurl.Url for websiteurl in Website.WebsiteUrlList" name="Url"
                        required>
                  <option style="display:none" value="">--Select--</option>
                </select>
                <span ng-show="SchedulerForm.Url.$touched || SchedulerForm.$submitted">
                  <small class="help-block" ng-show="SchedulerForm.Url.$error.required" style="color:red">Please select Url.</small>
                </span>
              </div>

              <div class="form-group" ng-if="Scheduler.UrlId == 0">
                <label>Url to test</label>

                <input type="text" class="form-control" ng-model="Scheduler.Settings.CustomUrlToTest" name="CustomUrlToTest" placeholder="Url to test" required>
                <span ng-show="SchedulerForm.CustomUrlToTest.$touched || SchedulerForm.$submitted">
                <small class="help-block" ng-show="SchedulerForm.CustomUrlToTest.$error.required" style="color:red">Please enter URL to test.</small>
              </span>
              </div>

              <div class="form-group">
                <label>Frequency</label>

                <select class="form-control" ng-model="Scheduler.Frequency"
                        ng-options="Frequency as Frequency for Frequency in FrequencyList" name="Frequency" required>
                  <option style="display:none" value="">--Select--</option>
                </select>
                <span ng-show="SchedulerForm.Frequency.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.Frequency.$error.required" style="color:red">Please select
          Frequency.
        </small>
        </span>
              </div>

              <div class="form-group">
                <label for="dtp_input1" class="col-md-2 control-label">Start DateTime </label>

                <div class="input-group">
                  <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fa fa-calendar"></i>
                      </span>
                  </div>
                  <input class="form-control form_datetime" size="16" type="text" value="" ng-model="Scheduler.StartDateTime" readonly name="ExpiresDateTime" required>
                </div>
                <input type="hidden" id="dtp_input1" value=""/><br/>
              </div>

              <div class="form-group">
                <label>Disabled</label>

                <input type="checkbox" ng-model="Scheduler.IsDisabled"/>
              </div>

              <div class="form-group">
                <label>Recur Every (Days)</label>

                <input type="number" class="form-control" ng-model="Scheduler.RecurEvery" name="RecurEvery" required/>
                <span ng-show="SchedulerForm.RecurEvery.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.RecurEvery.$error.required" style="color:red">Please enter
          Recur Every.
        </small>
        </span>
                <span ng-show="SchedulerForm.RecurEvery.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.RecurEvery.$error.number" style="color:red">Only integer value is allowed. </small>
        </span>
              </div>

              <div class="form-group" ng-hide="1==1">
                <label>Stop If Takes Longer Than (Minutes)</label>

                <input type="number" class="form-control" ng-model="Scheduler.StopIfLongerThan" name="RecurEvery"
                       required/>
                <span ng-show="SchedulerForm.StopIfLongerThan.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.StopIfLongerThan.$error.required" style="color:red">Stop If
          Takes Longer Than.
        </small>
        </span>
                <span ng-show="SchedulerForm.StopIfLongerThan.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.StopIfLongerThan.$error.number" style="color:red">Only integer
          value is allowed.
        </small>
        </span>
              </div>

              <div class="form-group">
                <label>Repeat Frequency (Minutes)</label>

                <input type="number" class="form-control" ng-model="Scheduler.RepeatTaskFrequency"
                       name="RepeatTaskFrequency"
                       required/>
                <span ng-show="SchedulerForm.RepeatTaskFrequency.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.RepeatTaskFrequency.$error.required" style="color:red">Please
          enter Repeat Frequency.
        </small>
        </span>
                <span ng-show="SchedulerForm.RepeatTaskFrequency.$touched || SchedulerForm.$submitted">
        <small class="help-block" ng-show="SchedulerForm.RepeatTaskFrequency.$error.number" style="color:red">Only
          integer value is allowed.
        </small>
        </span>
              </div>


              <div class="form-group">
                <label>Repeat Duration (Minutes)</label>

                <input type="number" class="form-control" ng-model="Scheduler.RepeatTaskDuration"
                       name="RepeatTaskDuration"
                       required/>
                <span ng-show="SchedulerForm.RepeatTaskDuration.$touched || SchedulerForm.$submitted">
                    <small class="help-block" ng-show="SchedulerForm.RepeatTaskDuration.$error.required" style="color:red">Please enter Repeat Duration.</small>
                </span>
                <span ng-show="SchedulerForm.RepeatTaskDuration.$touched || SchedulerForm.$submitted">
                  <small class="help-block" ng-show="SchedulerForm.RepeatTaskDuration.$error.number" style="color:red">Only integer value is allowed.</small>
                </span>
              </div>

              <div class="form-group">
                <label for="dtp_input2">Expires DateTime </label>

                <div class="input-group">
                  <div class="input-group-prepend">
                      <span class="input-group-text">
                        <i class="fa fa-calendar"></i>
                      </span>
                  </div>
                  <input class="form-control form_datetime" size="16" type="text" value="" ng-model="Scheduler.ExpirationDateTime" readonly name="ExpiresDateTime">
                </div>

                <input type="hidden" id="dtp_input2" value=""/><br/>
              </div>

              <div class="form-group">
                <label>Selenium address</label>

                <input type="url" class="form-control" ng-model="Scheduler.Settings.SeleniumAddress"
                       name="SeleniumAddress" placeholder="Selenium url address" required>
              </div>

              <div class="form-group">
                <label>Email report?</label>

                <input type="checkbox" ng-model="Scheduler.Settings.DoEmailReport" name="IsAngular"
                       placeholder="IsAngular">
              </div>

              <div class="form-group">
                <label>Email to</label>

                <textarea type="text" class="form-control" ng-model="Scheduler.Settings.ToEmailIds" name="EmailIds" placeholder="Email ids"></textarea>
                <label class="small">*Wrong email address(s) will get discarded! comma(,) separated</label>
              </div>


              <div class="form-group">
                <label>Suites</label>

                <div class="col-sm-12">
                  <label class="col-sm-12 paddingLeftZero">
                    <input ng-change="markUnMarkAll(this)" type="checkbox" ng-model="SelectAll"/>
                    All
                  </label>

                  <label ng-repeat="suite in SuiteList | orderBy:'Id'" class="col-md-4 ellipsis paddingLeftZero"
                         title="{{suite.Name}}">
                    <input type="checkbox" ng-model="suite.Checked" ng-change="textChecked(suite)"/>
                    {{suite.Name}}
                  </label>
                </div>
              </div>

              <div class="form-group">
                <label>Browsers</label>

                <div class="col-sm-12">
                  <label class="col-sm-12 paddingLeftZero">
                    <input ng-change="markUnMarkAllBrowser()" type="checkbox" ng-model="SelectAllBrowsers"/> All
                  </label>

                  <label ng-repeat="browser in BrowserList | orderBy:'Id'" class="col-md-4 ellipsis paddingLeftZero" title="{{browser.DisplayName}}">
                    <input type="checkbox" ng-model="browser.Checked" ng-change="markUnMarkAllBrowser(browser)"/>
                    {{browser.DisplayName}}
                  </label>
                </div>
              </div>

              <div class="form-group">
                <div class="row">
                  <div class="col-sm-5">
                    <label>Take Screen Shot On Url Changed</label>
                    <select class="form-control" ng-model="Scheduler.Settings.TakeScreenShotOnUrlChanged"
                            ng-options="browser.Id as browser.DisplayName for browser in BrowserList">
                      <option value="">--Select--</option>
                    </select>
                  </div>
                  <div class="col-sm-5" ng-if="TestUnderSuite.length>0">
                    <label>For test</label>
                    <select class="form-control  color.name group by color.shade for color in colors"
                            ng-model="Scheduler.Settings.TakeScreenShotOnUrlChangedForTest"
                            ng-options="test as test.TestName group by test.SuiteName for test in TestUnderSuite">
                      <option value="">--Select--</option>
                    </select>
                  </div>
                </div>
              </div>

              <div class="form-group col-sm-6 col-centered">
                <button type="submit" class="btn btn-block btn-primary btn-lg">Save</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<script type="text/javascript">

  $('.form_datetime').datetimepicker({
    format: 'mm-dd-yyyy HH:ii p',
    startDate: new Date(),
    weekStart: 1,
    todayBtn: 1,
    autoclose: 1,
    forceParse: 1,
    todayHighlight: 1,
    startView: 2,
    showMeridian: 1
  });

</script>
